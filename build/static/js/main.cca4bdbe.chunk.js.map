{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","components/Status.js","services/phonebook.js","App.js","index.js"],"names":["PersonForm","newName","newNumber","handleNameChange","handleSubmit","handleNumberChange","onSubmit","onChange","value","type","Filter","filterResults","setFilter","event","target","Persons","persons","handleNumberDelete","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","e","Status","className","message","local","newPerson","axios","post","then","response","data","get","delete","put","App","useState","addPersons","setNewName","setNewNumber","class","error","setError","useEffect","personService","preventDefault","personIndex","findIndex","p","toUpperCase","nextPerson","concat","catch","console","log","setTimeout","window","confirm","find","peeps","undefined","after","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cca4bdbe.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({ newName,\n                      newNumber,\n                      handleNameChange,\n                      handleSubmit,\n                      handleNumberChange }) => {\n  \n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input onChange={handleNameChange} value={newName} ></input>\n            </div>\n            <div>\n                number: <input onChange={handleNumberChange} value={newNumber}></input>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({filterResults, setFilter}) => {\n    const handleFilterChange = (event) => {\n        setFilter(event.target.value)\n    }\n\n    return (\n        <div>\n            filter shown with \n            <input onChange={handleFilterChange} value={filterResults} />\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react';\n\nconst Persons = ({filterResults, persons, handleNumberDelete}) => {\n    \n    return (\n    <ul>\n        {persons.filter(\n        person => person.name.toLowerCase().includes(filterResults.toLowerCase()))\n        .map(person => { \n            return (<li key={person.id}> {person.name} {person.number} \n        <button onClick={(e) => handleNumberDelete(person.id)}>delete</button></li>) })}\n    </ul>)\n\n}\n\nexport default Persons;","import React from 'react';\n\nconst Status = ({className, message}) => {\n    if (!message)\n        return (<></>)\n        \n    return (<h2 className={className}>{message}</h2>)\n}\n\nexport default Status;","import axios from 'axios' \n\nconst local = \"/api/persons\"\n\nconst addPerson = (newPerson) => {\n    const response = axios.post(local, newPerson)\n    return response.then(response => response.data)\n}\n\nconst getAll = () => {\n    const response = axios.get(local)\n    return response.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const response = axios.delete(`${local}/${id}`)\n    return response.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${local}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nexport default { addPerson, getAll, deletePerson, update }","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport Status from './components/Status';\nimport personService from './services/phonebook.js'\n\nconst App = () => {\n  const [persons, addPersons] = useState([])\n  const [filterResults, setFilter] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [error, setError] = useState({message: \"\", class: \"\"});\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  } \n\n  const handleNumberDelete = (id) => {\n    const person = persons.find(peeps => peeps.id === id)\n    if (person === undefined) {\n      console.log(\"not available locally!\")\n      return;\n    }\n\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n    personService.deletePerson(id).then(after => {\n      addPersons(persons.filter(person => person.id !== id))\n      setNewName(\"\")\n      setNewNumber(\"\")\n    }).catch((error) => {\n      setError({message: `${person.name} is already deleted, or doesn't exist`, class: \"error\"})\n      addPersons(persons.filter(person => person.id !== id))\n\n      setTimeout(() => setError({message: \"\", class: \"\"}), 5000);\n    })\n  }\n}\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const personIndex = persons.findIndex(p => p.name.toUpperCase() === newName.toUpperCase()) \n    const nextPerson = {\n      name: newName,\n      number: newNumber\n  }\n    if (personIndex === -1) {\n        personService.addPerson(nextPerson)\n          .then(newPerson => {\n              addPersons(persons.concat(newPerson));\n              setError({message: `Successfully added ${newName} to the phonebook`})\n              setNewName(\"\");\n              setNewNumber(\"\");\n          })\n          .catch(error => {\n            console.log(\"error:\\n\", error.response)\n            setError({message: error.response.error, error: \"error\"});\n            setTimeout(() => setError({message: \"\", class: \"\"}), 5000);\n          })\n    }\n    else {\n      const {name, id} = persons[personIndex];\n      if (window.confirm(`${name} is already in the phonebook, replace the old number with a new one?`)) {\n        personService.update(id, nextPerson)\n        .then(newPerson => {\n          addPersons(persons.map(person => person.id !== id ? person : newPerson))\n          setError({message: `Successfully updated ${name} into the database`, class: \"success\"})\n          setTimeout(() => setError({message: \"\", class: \"\"}), 1000);\n        })\n        .catch(error => setError({message: error.response.data, class: \"error\" }))\n      }\n    }\n  }\n\n  useEffect(() => { personService.getAll().then(persons => addPersons(persons)) } \n           ,[]);\n\n  return (\n    <div>\n      <Status className={error.class} message={error.message} />\n      <h1>Phonebook</h1>\n      { /* filter */ }\n      <Filter filterResults={filterResults} setFilter={setFilter} />\n      <h2>add a new</h2>\n      <PersonForm newName={newName}\n                  newNumber={newNumber} \n                  setNewNumber={setNewNumber}\n                  handleNameChange={handleNameChange}\n                  handleSubmit={handleSubmit}\n                  handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {/* persons */ }\n      <Persons filterResults={filterResults} persons={persons} handleNumberDelete={handleNumberDelete} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}